#!/usr/bin/env bash

# Save Homebrew's install location
BREW_PREFIX=$(brew --prefix)

# Add local binaries to PATH
export PATH="${HOME}/bin:${PATH}"

# Overwrite built-in GNU utils
export PATH="${BREW_PREFIX}/opt/coreutils/libexec/gnubin:$PATH"
export PATH="${BREW_PREFIX}/opt/findutils/libexec/gnubin:$PATH"
export PATH="${BREW_PREFIX}/opt/grep/libexec/gnubin:$PATH"
export PATH="${BREW_PREFIX}/opt/gnu-indent/libexec/gnubin:$PATH"
export PATH="${BREW_PREFIX}/opt/gnu-sed/libexec/gnubin:$PATH"
export PATH="${BREW_PREFIX}/opt/gnu-tar/libexec/gnubin:$PATH"
export PATH="${BREW_PREFIX}/opt/gnu-which/libexec/gnubin:$PATH"

# Make neovim the default editor
export EDITOR="nvim"

# Make Python use UTF-8 encoding for output to stdin, stdout, and stderr
export PYTHONIOENCODING="UTF-8"

# Increase Bash history size. Allow 32³ entries; the default is 500
export HISTSIZE="32768"
export HISTFILESIZE="${HISTSIZE}"
# Omit duplicates and commands that begin with a space from history
export HISTCONTROL="ignoreboth"

# Prefer US English and use UTF-8
export LANG="en_US.UTF-8"
export LC_ALL="en_US.UTF-8"

# Highlight section titles in manual pages
export LESS_TERMCAP_md="${yellow}"

# Make less the default reader.
export MANPAGER="less"

# Avoid issues with `gpg` as installed via Homebrew
# https://stackoverflow.com/a/42265848/96656
export GPG_TTY=$(tty)

# Hide the “default interactive shell is now zsh” warning on macOS
export BASH_SILENCE_DEPRECATION_WARNING=1